<!DOCTYPE html>
<html>
<head>
	<title>表单验证</title>
</head>
<style type="text/css">

	div{padding-bottom: 20px;width: 500px;height: 50px;}
	span{padding-left: 40px;font-size: 15px;}
	#error{color: red;display: none;}
	#correct{color: green;display: none;}
	#normal{color: gray;display: block;}
	#text1{outline: none;border: 1px solid;}
</style>
<body>
<div>	
	<form>
		<p style="display: inline;">名称</p>
		<input type="text" name="" id="text1">
		<input type="button" value="验证" id="btn">
		<span id="normal">必填，长度为4~16个字符</span>
		<span id="error">姓名不能为空</span>
		<span id="correct">名称格式正确</span>
	</form>
</div>

</div>
</body>
<script type="text/javascript">
	
	window.onload = function (){



		var T1 = document.getElementById('text1');
		var Nor =document.getElementById('normal');
		var Err =document.getElementById('error');
		var Cor =document.getElementById('correct');

		var Btn = document.getElementById('btn');
		

		var Err = document.getElementById('error');
		Btn.onclick = function(){
			var t = T1.value;			
			var L = getStrLen(t);
			
			if (L==0) {				
				Err.style.display="block";
				Nor.style.display="none";
				Cor.style.display="none";
				T1.style.borderColor="red";
			}
			else if (L<4||L>16) {				
				Nor.style.display="block";
				Err.style.display="none";
				Cor.style.display="none";
				T1.style.borderColor="none";
			}else{
				Nor.style.display="none";
				Err.style.display="none";
				Cor.style.display="block";
				T1.style.borderColor="green";
			}
			
		}		
		function getStrLen (str){
	        var enLen = 0;
	        var zhLen = 0;
	        for (let ch of str) {
	            if (isASCII(ch))
	                enLen++;
	            else 
	                zhLen++;
	        } 
	        return enLen + zhLen * 2;  
		}

		function isASCII (c) {
	        return c.codePointAt(0) <= 0xFF;
		}	
		
		
	};
</script>
</html>